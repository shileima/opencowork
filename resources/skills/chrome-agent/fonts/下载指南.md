# NotoSansCJK 字体下载指南

## 当前状态

由于网络限制，无法自动从 GitHub 下载字体文件。请按照以下方法手动下载。

## 方法 1：GitHub Releases（推荐）

### 步骤：

1. **访问 Releases 页面**：
   ```
   https://github.com/notofonts/noto-cjk/releases
   ```

2. **查找最新版本**：
   - 查找 "Sans" 版本的 releases（不是 Serif）
   - 最新版本通常是 "Sans2.004" 或更高

3. **下载 TTF 文件**：
   - ⚠️ **重要**：必须下载 **TTF** 格式，不要下载 TTC
   - 查找 "Subset TTF" 或 "Variable TTF" 部分
   - 推荐下载：
     - `NotoSansCJK-Regular.ttf`（完整版，约 5-10 MB）
     - 或 `NotoSansCJK-SC-Regular.ttf`（简体中文版，约 2-5 MB）

4. **放置文件**：
   将下载的 `.ttf` 文件重命名为 `NotoSansCJK-SC-Regular.ttf`（如果不同名）
   放到以下目录：
   ```
   ~/.qa-cowork/skills/chrome-agent/fonts/
   ```

## 方法 2：使用代理或 VPN

如果您的网络环境需要代理：

```bash
# 设置代理（根据您的代理配置调整）
export https_proxy=http://127.0.0.1:7890
export http_proxy=http://127.0.0.1:7890

# 然后运行下载脚本
cd ~/.qa-cowork/skills/chrome-agent/fonts
node download-with-node.js
```

## 方法 3：使用镜像站点

### 选项 A：GitHub 镜像
- https://hub.fastgit.xyz/notofonts/noto-cjk/releases
- https://github.com.cnpmjs.org/notofonts/noto-cjk/releases

### 选项 B：Google Fonts
访问 Google Fonts 搜索 "Noto Sans CJK"：
```
https://fonts.google.com/noto/specimen/Noto+Sans+SC
```
点击下载按钮获取 TTF 文件。

## 方法 4：使用包管理器（macOS）

### Homebrew
```bash
brew install font-noto-sans-cjk
# 字体会安装到 /Library/Fonts/
# 脚本会自动检测
```

### MacPorts
```bash
sudo port install noto-fonts-cjk
```

## 方法 5：从其他来源下载

### 中国镜像源
- 清华大学镜像：https://mirrors.tuna.tsinghua.edu.cn/
- 搜索 "noto-cjk" 或 "noto fonts"

### CDN 源
一些 CDN 可能提供字体文件，但需要验证文件完整性。

## 验证安装

下载完成后，运行测试脚本：

```bash
cd ~/.qa-cowork/skills/chrome-agent
node test-pdf-chinese.js
```

如果看到以下输出，说明成功：
```
✅ 已加载中文字体: /path/to/NotoSansCJK-SC-Regular.ttf
```

## 故障排除

### 问题 1：仍然显示乱码
- 检查文件格式：`file fonts/NotoSansCJK-SC-Regular.ttf`
- 应该显示 "TrueType font"
- 如果是 "TrueType Collection"，说明下载错了文件

### 问题 2：脚本找不到字体
- 检查文件路径和文件名是否正确
- 文件名必须匹配：`NotoSansCJK-SC-Regular.ttf` 或 `NotoSansCJK-Regular.ttf`
- 检查文件权限：`ls -l fonts/*.ttf`

### 问题 3：网络连接问题
- 尝试使用代理或 VPN
- 使用镜像站点
- 使用包管理器安装

## 快速检查清单

- [ ] 已下载 TTF 格式文件（不是 TTC）
- [ ] 文件已放到 `~/.qa-cowork/skills/chrome-agent/fonts/` 目录
- [ ] 文件名正确（NotoSansCJK-SC-Regular.ttf 或 NotoSansCJK-Regular.ttf）
- [ ] 文件大小合理（2-10 MB）
- [ ] 运行测试脚本验证成功

## 需要帮助？

如果以上方法都无法解决问题，请：
1. 检查网络连接
2. 尝试使用不同的网络环境
3. 联系技术支持
